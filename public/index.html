<!DOCTYPE html>
<html lang="en">
<head>
  <title>Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <script src="/js/jquery-2.2.0.min.js"></script>
  <script src="/js/socket.io.js"></script>
  <link rel="stylesheet" href="/css/kube.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <button id="submit" type="primary">
  	Click me!
  </button>

  <br><br><span id="outputText"><span class="error big bold">off</span></span>
	
	<script type="text/javascript">
		var socket = io.connect();
		var currentState = 0;
		
		socket.on('led', function (data) {
			$('#submit').value = data.value;
			$('#outputText').innerHTML = data.value;
		});
		
		// function toggleValue(newValue) {
		// 	$("#outputText").innerHTML=newValue;
		// 	socket.emit('led', { value: newValue });
		// }

		$('#submit').click(function() {
			toggleValue();
		});

		function toggleValue () {
			if (currentState === 0) {
				$('#outputText').html('<span class="success big bold">ON</span>');
				currentState = 1;
				console.log('changed to 1');
			} else if (currentState === 1) {
				$('#outputText').html('<span class="error big bold">off</span>');
				currentState = 0;
				console.log('changed to 0');
			}
		}

	</script>
</body>
</html>